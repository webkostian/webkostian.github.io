"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[907],{7341:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(5671),c=n(3144),a=n(136),i=n(8347),o=n(2791),s=n(9613),u=n(184),l=function(t){(0,a.Z)(n,t);var e=(0,i.Z)(n);function n(){var t;(0,r.Z)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={error:!1},t}return(0,c.Z)(n,[{key:"componentDidCatch",value:function(t,e){console.log(t,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,u.jsx)(s.Z,{}):this.props.children}}]),n}(o.Component)},9613:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n.p+"static/media/error.42292aa12b6bc303ce99.gif",c=n(184),a=function(){return(0,c.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:r,alt:"Error"})}},6704:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(7341),c=n(2982),a=n(885),i=n(2791),o=n(1523),s=n(9295),u=n(5660),l=n(3394),d=n(9613),f=n(6557),p=n(184),m=function(){var t=(0,i.useState)([]),e=(0,a.Z)(t,2),n=e[0],r=e[1],m=(0,i.useState)(!1),h=(0,a.Z)(m,2),v=h[0],g=h[1],b=(0,i.useState)(210),x=(0,a.Z)(b,2),j=x[0],_=x[1],Z=(0,i.useState)(!1),k=(0,a.Z)(Z,2),y=k[0],w=k[1],C=(0,f.Z)(),N=C.loading,E=C.error,A=C.getAllComics;(0,i.useEffect)((function(){S(j,!0)}),[]);var S=function(t,e){g(!e),A(t).then(T)},T=function(t){var e=!1;t.length<8&&(e=!0),r((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t))})),g((function(t){return!1})),_((function(t){return t+8})),w((function(t){return e}))},F=(0,i.useRef)([]),q=function(t){F.current.forEach((function(t){return t.classList.remove("char__item_selected")})),F.current[t].classList.add("char__item_selected"),F.current[t].focus()};var D=function(t){var e=t.map((function(t,e){var n={objectFit:"cover"};return t.thumbnail,n={objectFit:"unset"},(0,p.jsx)(s.Z,{timeout:300,classNames:"comics__item",children:(0,p.jsx)("li",{className:"comics__item",tabIndex:0,ref:function(t){return F.current[e]=t},onClick:function(){q(e)},onKeyPress:function(t){" "!==t.key&&"Enter"!==t.key||q(e)},children:(0,p.jsxs)(o.rU,{to:"/comics/".concat(t.id),children:[(0,p.jsx)("img",{src:t.thumbnail,alt:t.title,className:"comics__item-img",style:n}),(0,p.jsx)("div",{className:"comics__item-name",children:t.title}),(0,p.jsx)("div",{className:"comics__item-price",children:t.price})]})},"".concat(t.id).concat(e))},"".concat(t.id).concat(e))}));return(0,p.jsx)("ul",{className:"comics__grid",children:(0,p.jsx)(u.Z,{component:null,children:e})})}(n),L=E?(0,p.jsx)(d.Z,{}):null,O=N&&!v?(0,p.jsx)(l.Z,{}):null;return(0,p.jsxs)("div",{className:"comics__list",children:[L,O,D,(0,p.jsx)("button",{className:"button button__main button__long",disabled:v,style:{display:y?"none":"block"},onClick:function(){return S(j,!1)},children:(0,p.jsx)("div",{className:"inner",children:"load more"})})]})},h=n.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",v=n.p+"static/media/Avengers_logo.9eaf219344d83362e830.png",g=function(){return(0,p.jsxs)("div",{className:"app__banner",children:[(0,p.jsx)("img",{src:h,alt:"Avengers"}),(0,p.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,p.jsx)("br",{}),"Stay tuned!"]}),(0,p.jsx)("img",{src:v,alt:"Avengers logo"})]})},b=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{}),(0,p.jsx)(r.Z,{children:(0,p.jsx)(m,{})})]})}},6557:function(t,e,n){n.d(e,{Z:function(){return d}});var r=n(5861),c=n(7757),a=n.n(c),i=n(1391),o=n.n(i),s=n(885),u=n(2791),l=function(){var t=(0,u.useState)(!1),e=(0,s.Z)(t,2),n=e[0],c=e[1],i=(0,u.useState)(null),o=(0,s.Z)(i,2),l=o[0],d=o[1],f=(0,u.useCallback)(function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,i,o,s,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,i=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json"},c(!0),t.prev=4,t.next=7,fetch(e,{metod:n,body:r,heders:i});case 7:if((o=t.sent).ok){t.next=10;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(o.status));case 10:return t.next=12,o.json();case 12:return s=t.sent,c(!1),t.abrupt("return",s);case 17:throw t.prev=17,t.t0=t.catch(4),c(!1),d(t.t0.message),t.t0;case 22:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}(),[]);return{loading:n,error:l,request:f,clearError:(0,u.useCallback)((function(){return d(null)}),[])}},d=function(){var t=l(),e=t.loading,n=t.error,c=t.request,i=t.clearError,s="https://gateway.marvel.com:443/v1/public/",u=function(t){var e="a9dcaf209e3c49588cbeb95ff8a3d22f",n=(new Date).getTime(),r=n+"de082d9e54b29d6c0eeac4c444e874dd23358748"+e,c=o()(r),a=-1===t.indexOf("?")?"?":"&";return"".concat(a,"ts=").concat(n,"&apikey=").concat(e,"&hash=").concat(c)},d=function(){var t=(0,r.Z)(a().mark((function t(){var e,n,r,i,o=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:210,n="characters?orderBy=name&limit=".concat(9,"&offset=").concat(e),r=u(n),t.next=5,c("".concat(s).concat(n).concat(r));case 5:return i=t.sent,t.abrupt("return",i.data.results.map(h));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="characters/".concat(e),r=u(n),t.next=4,c("".concat(s).concat(n).concat(r));case 4:return i=t.sent,t.abrupt("return",h(i.data.results[0]));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(a().mark((function t(){var e,n,r,i,o,l=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:0,n=l.length>1&&void 0!==l[1]?l[1]:8,r="comics?limit=".concat(n,"&offset=").concat(e),i=u(r),t.next=6,c("".concat(s).concat(r).concat(i));case 6:return o=t.sent,t.abrupt("return",o.data.results.map(v));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="comics/".concat(e),r=u(n),t.next=4,c("".concat(s).concat(n).concat(r));case 4:return i=t.sent,t.abrupt("return",v(i.data.results[0]));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(t){return{id:t.id,name:t.name,description:t.description?"".concat(t.description.slice(0,210),"..."):"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items}},v=function(t,e){return{id:t.id,title:t.title,description:t.description||"There is no description",pageCount:t.pageCount?"".concat(t.pageCount," p."):"No information about the number of pages",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:t.textObjects.language||"en-us",price:t.prices.price?"".concat(t.prices.price,"$"):"not available"}};return{loading:e,error:n,getAllCharacters:d,getCharacter:f,clearError:i,getAllComics:p,getComic:m}}}}]);
//# sourceMappingURL=907.a7a29f7b.chunk.js.map